!function(){"use strict";function e(e,t,n){var o,i=this;void 0===n&&(n=!1);return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var s=function(){o=null,n||e.apply(i,r)},c=n&&!o;clearTimeout(o),o=setTimeout(s,t),c&&e.apply(i,r)}}function t(e){return e.replace(/http(s)?:/,"")}function n(e,n,o){var i=function(e,n){if(null===n)return e;if("master"===n)return t(e);var o=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(o){var i=e.split(o[0]),r=o[0];return t("".concat(i[0],"_").concat(n).concat(r))}return null}(e,n),r="".concat("//cdn.shopify.com/s/files/1/1077/2230/t/118/","assets/").concat(i);return o&&(r+="?v=".concat(o)),r}var o=function(e){return e.collections.map((function(e){return e.handle}))};var i={product:function(e){var t=function(e){return o(e).includes("coming-soon")?Shopify.translation.coming_soon_text:e.available?e.raw_compare>e.raw_price?'\n      <span class="was_price">'.concat(e.compare,"</span> ").concat(e.price,"\n    "):e.price_varies&&e.price_min>0?'<span class="from-text">'.concat(Shopify.translation.from_text,"</span> ").concat(e.price):e.price>0||e.raw_price>0?e.price:Shopify.theme_settings.free_text:Shopify.theme_settings.display_sold_out_price?"\n        ".concat(e.price,' <span class="sold-out-text">').concat(Shopify.theme_settings.sold_out_text,"</span>\n      "):'<span class="sold-out-text">'.concat(Shopify.theme_settings.sold_out_text,"</span>")}(e);return"\n      <h5>".concat(e.title,'</h5>\n      <div class="search-autocomplete__result__description">\n        ').concat(t,"\n      </div>\n    ")},article:function(e){return"\n      <h5>".concat(e.title,'</h5>\n      <div class="search-autocomplete__result__description">\n        <p class="paragraph-3">').concat(e.text_content,"</p>\n      </div>\n    ")},page:function(e){return"\n      <h5>".concat(e.title,'</h5>\n      <div class="search-autocomplete__result__description">\n        <p class="paragraph-3">').concat(e.text_content,"</p>\n      </div>\n    ")}};function r(e){var t=function(e){var t=e.thumbnail&&"NULL"!==e.thumbnail?e.thumbnail:n("vm-logo-seagreen.png","small");return'\n    <div class="search-autocomplete__result__thumbnail">\n      <img src="'.concat(t,'" />\n    </div>\n  ')}(e),r=(0,i[e.object_type])(e),a=function(e){return"article"===e.object_type?"blog post":"product"===e.object_type&&e.collections&&e.collections.length&&o(e).includes("services")?"service":e.object_type}(e);return'\n    <li class="search-autocomplete__result search-autocomplete__result--type-'.concat(e.object_type,'">\n      <a class="search-autocomplete__result-link" href="').concat(e.url,'">\n        <div class="search-autocomplete__result__thumbnail-wrapper">\n          ').concat(t,'\n        </div>  \n\n        <div class="search-autocomplete__result__body">\n          <h6 class="search-autocomplete__result__type-heading">\n            ').concat(a,"\n          </h6>\n\n          ").concat(r,"\n        </div>\n      </a>\n    </li>\n  ")}var a=function(t){var n=this;this.shopURL="",this.searchValue="",this.searchFormElement=null,this.resultsListElement=null,this.inputElement=null,this.init=function(){n.shopURL=document.querySelector("body").getAttribute("data-shop-url"),n.searchPath="".concat(n.shopURL,"/search?q="),n.debouncedFetchSearchResults=e(n.fetchSearchResults,1e3);var t=document.createElement("div");return t.innerHTML='\n      <div class="search-autocomplete">\n        <ul class="search-autocomplete__results"></ul>\n      </div>',n.searchFormElement.appendChild(t),n.resultsListElement=n.searchFormElement.querySelector(".search-autocomplete__results"),n.inputElement=n.searchFormElement.querySelector('input[name="q"]'),n.inputElement.setAttribute("autocomplete","off"),n.inputElement.addEventListener("keyup",n.onSearchInputKeyup),n.searchFormElement.addEventListener("submit",n.onSearchFormSubmit),n.searchFormElement.closest("[data-dropdown-id]")&&(window.addEventListener("header-dropdown:opened",(function(e){"search"===e.detail.dropdown.id&&n.inputElement.focus()})),window.addEventListener("header-dropdown:closed",(function(e){"search"===e.detail.dropdown.id&&n.inputElement.blur()}))),n},this.showDropdown=function(){n.resultsListElement.classList.remove("u-hidden")},this.hideDropdown=function(){n.resultsListElement.classList.add("u-hidden")},this.unload=function(){},this.onDocumentClick=function(e){n.searchFormElement.isSameNode(e.target)||n.searchFormElement.contains(e.target)||n.hideDropdown()},this.onSearchFormSubmit=function(e){e.preventDefault(),console.log("search");var t=n.getSearchPageUrl(n.searchValue+"*");window.location.assign(t),n.fetchAndDisplaySearchResults()},this.onSearchInputKeyup=e((function(){n.searchValue=n.inputElement.value,""!==n.searchValue?n.searchValue.length<3||n.fetchAndDisplaySearchResults():n.hideDropdown()}),250),this.getSearchPageUrl=function(e){var t=encodeURI(e);return n.searchPath+t},this.getSearchUrl=function(e){var t=encodeURI(e),o=n.searchPath+t;return"".concat(o,"*&view=json")},this.fetchAndDisplaySearchResults=function(){return n.fetchSearchResults(n.searchValue).then((function(e){var t=e.searchValue,o=e.searchUrl,i=e.resultsList,a=e.totalResults;if(t===n.searchValue){var s=function(e){var t=e.resultsList,n=e.totalResults,o=e.searchValue,i=e.searchUrl;if(0===n)return'\n      <li class="search-autocomplete__result search-autocomplete__result--no-results">\n        <p>No results for <b>"'.concat(o,'"</b>.</p>\n      </li>\n    ');var a=t.slice(0,Shopify.theme_settings.search_items_to_display).reduce((function(e,t,n){return e+r(t)}),"");return n>=Shopify.theme_settings.search_items_to_display&&(a+='\n        <li class="search-autocomplete__result search-autocomplete__result--see-all">\n          <a class="cta-link" href="'.concat(i,'*">').concat(Shopify.translation.all_results," (").concat(n,")</a>\n        </li>\n      ")),a}({searchValue:t,searchUrl:o,resultsList:i,totalResults:a});n.resultsListElement.innerHTML=s,n.showDropdown()}}))},this.fetchSearchResults=function(e){var t=n.getSearchUrl(e);return fetch(t).then((function(e){return e.json()})).then((function(n){return{searchValue:e,searchUrl:t,resultsList:n.results,totalResults:n.results_count}}))},this.searchFormElement=t},s=function(){var e=this;this.initialize=function(){var t=document.querySelectorAll("form.search_form, form.search, form.header_search_form, form.header__search-form");e.searchAutocompletes=Array.from(t).map((function(e){return new a(e).init()}))},this.unload=function(){e.searchAutocompletes.forEach((function(e){e.unload()}))}},c=function(){function e(){this.showPromoBanner=function(){document.body.classList.add("promo-banner-show"),window.dispatchEvent(new Event("header:resize"))},this.hidePromoBanner=function(){document.body.classList.remove("promo-banner-show"),Cookies.set("promo-banner","dismiss",{expires:30}),window.dispatchEvent(new Event("header:resize"))}}return e.prototype.initialize=function(){var e=this;if("dismiss"!==Cookies.get("promo-banner"))return this.showPromoBanner(),this.closeButtonElements=Array.from(document.querySelectorAll(".js-promo-banner-close")),this.closeButtonElements.forEach((function(t){t.addEventListener("click",e.hidePromoBanner)})),this},e.prototype.unload=function(){var e=this;this.closeButtonElements.forEach((function(t){t.removeEventListener("click",e.hidePromoBanner)}))},e}(),l=function(){return l=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};var d=function(){function e(){}return e.lock=function(e){void 0===e&&(e="menu");var t="".concat(e,"-is-open");document.body.classList.add(t)},e.unlock=function(e){void 0===e&&(e="menu");var t="".concat(e,"-is-open");document.body.classList.remove(t)},e}(),u=function(){function e(){this.element=document.querySelector(".header-drawer-underlay")}return e.prototype.show=function(){var e=this;this.element.classList.add("is-active"),this.element.classList.add("animated","animated--snappy","fadeIn"),this.element.addEventListener("animationend",(function(){e.element.classList.remove("animated","fadeIn")}),{once:!0})},e.prototype.hide=function(){var e=this;this.element.classList.add("animated","animated--snappy","fadeOut"),this.element.addEventListener("animationend",(function(){e.element.classList.remove("animated","animated--snappy","fadeOut","is-active")}),{once:!0})},e}(),m=function(){function e(e){var t=this,n=e.drawerElement,o=e.onButtonClick;this.isOpen=!1,this.unload=function(){},this.open=function(){t.isOpen=!0,t.drawerElement.classList.add("is-active"),setTimeout((function(){t.drawerElement.classList.add("is-open"),t.buttonElements.forEach((function(e){e.classList.add("is-open")}))}))},this.close=function(){t.isOpen=!1,t.drawerElement.classList.remove("is-open"),t.buttonElements.forEach((function(e){e.classList.remove("is-open")})),t.drawerElement.addEventListener("transitionend",(function(){t.drawerElement.classList.remove("is-active")}),{once:!0})},this.drawerElement=n,this.onButtonClick=o}return e.prototype.initialize=function(){var e=this;return this.id=this.drawerElement.getAttribute("data-drawer-id"),this.buttonElements=Array.from(document.querySelectorAll('[data-drawer-button-id="'.concat(this.id,'"]'))),this.buttonElements.forEach((function(t){t.addEventListener("click",(function(t){e.onButtonClick(t,e)}))})),this},e}(),p=function(){function t(){var t=this;this.onDrawerButtonClick=function(e,n){e.preventDefault(),t.currentOpenDrawerId?n.id===t.currentOpenDrawerId?t.closeDrawer(n):(t.closeDrawer(t.getCurrentOpenDrawer()),t.openDrawer(n)):t.openDrawer(n)},this.onBodyClick=function(e){t.getCurrentOpenDrawer()&&e.target instanceof Element&&null===e.target.closest("[data-drawer-id]")&&null===e.target.closest("[data-drawer-button-id]")&&t.closeDrawer(t.getCurrentOpenDrawer())},this.onWindowResize=e((function(){var e=t.getCurrentOpenDrawer();e&&t.closeDrawer(e)}),100),this.getCurrentOpenDrawer=function(){return t.currentOpenDrawerId?t.drawerIdMap[t.currentOpenDrawerId]:null},this.closeCurrentOpenDrawer=function(){var e=t.getCurrentOpenDrawer();e&&t.closeDrawer(e)},this.openDrawer=function(e){e.open(),t.currentOpenDrawerId=e.id,d.lock(),t.drawerUnderlay.show()},this.closeDrawer=function(e){e.close(),t.currentOpenDrawerId=null,d.unlock(),t.drawerUnderlay.hide()}}return t.prototype.initialize=function(){var e=this;return this.drawerElements=document.querySelectorAll("[data-drawer-id]"),this.drawerIdMap=Array.from(this.drawerElements).reduce((function(t,n){var o,i=new m({drawerElement:n,onButtonClick:e.onDrawerButtonClick}).initialize();return l(l({},t),((o={})[i.id]=i,o))}),{}),this.drawerUnderlay=new u,document.body.addEventListener("click",this.onBodyClick),window.addEventListener("resize",this.onWindowResize),this},t}(),h=function(){function e(){this.element=document.querySelector(".header-dropdown-underlay")}return e.prototype.show=function(){this.element.classList.add("is-active")},e.prototype.hide=function(){this.element.classList.remove("is-active")},e}(),f="is-active",v="is-open",g=function(){function e(e){var t=this,n=e.dropdownElement,o=e.onDropdownButtonMouseOver,i=e.onDropdownButtonClick;this.isOpen=!1,this.initialize=function(){return t.id=t.dropdownElement.getAttribute("data-dropdown-id"),t.buttonElements=Array.from(document.querySelectorAll('[data-dropdown-button-id="'.concat(t.id,'"]'))),t.activationType=t.dropdownElement.getAttribute("data-dropdown-activation-type")||"hover",t.buttonElements.forEach((function(e){e.classList.add("is-dropdown-button"),e.addEventListener("mouseover",t.onDropdownButtonMouseOverInternal),e.addEventListener("click",t.onDropdownButtonClickInternal)})),t},this.open=function(){t.isOpen=!0,t.buttonElements.forEach((function(e){e.classList.add(f)})),t.dropdownElement.classList.add(v)},this.close=function(){t.isOpen=!1,t.buttonElements.forEach((function(e){e.classList.remove(f)})),t.dropdownElement.classList.remove(v)},this.toggle=function(e){e?t.open():t.close()},this.onDropdownButtonMouseOverInternal=function(e){t.onDropdownButtonMouseOver(e,t)},this.onDropdownButtonClickInternal=function(e){t.onDropdownButtonClick(e,t)},this.dropdownElement=n,this.onDropdownButtonMouseOver=o,this.onDropdownButtonClick=i}return e.prototype.unload=function(){var e=this;this.buttonElements.forEach((function(t){t.classList.remove("is-dropdown-button"),t.removeEventListener("mouseover",e.onDropdownButtonMouseOverInternal),t.removeEventListener("click",e.onDropdownButtonClickInternal)}))},e}(),y=function(){function e(){var e=this;this.currentDropdownId=null,this.onBodyClick=function(t){var n=e.getCurrentOpenDropdown();n&&"click"===n.activationType&&t.target instanceof Element&&null===t.target.closest("[data-dropdown-id]")&&null===t.target.closest("[data-dropdown-button-id]")&&e.closeCurrentOpenDropdown()},this.onDropdownButtonMouseOver=function(t,n){var o=e.getCurrentOpenDropdown();o&&"click"===o.activationType||"click"!==n.activationType&&(e.closeCurrentOpenDropdown(),e.openDropdown(n))},this.onHeaderMouseOut=function(t){var n=e.getCurrentOpenDropdown();if(n&&"click"!==n.activationType){var o=t.relatedTarget;!o||o.closest(".header-desktop__navbar")||o.closest(".vm-header-drawer__content")||e.closeCurrentOpenDropdown()}},this.onDropdownButtonClick=function(t,n){t.preventDefault();var o=e.getCurrentOpenDropdown();o?(e.closeDropdown(o),o.id!==n.id&&e.openDropdown(n)):e.openDropdown(n)},this.getCurrentOpenDropdown=function(){return e.dropdownMap[e.currentDropdownId]},this.closeCurrentOpenDropdown=function(){var t=e.getCurrentOpenDropdown();t&&e.closeDropdown(t)},this.openDropdown=function(t){e.currentDropdownId=t.id,t.open(),e.headerUnderlay.show(),window.dispatchEvent(new CustomEvent("header-dropdown:opened",{detail:{dropdown:t}}))},this.closeDropdown=function(t){t.close(),e.currentDropdownId=null,window.dispatchEvent(new CustomEvent("header-dropdown:closed",{detail:{dropdown:t}})),e.headerUnderlay.hide()}}return e.prototype.initialize=function(){var e=this;return this.headerContentWrapperElement=document.querySelector(".header-content-wrapper"),this.headerContentWrapperElement.addEventListener("mouseout",this.onHeaderMouseOut),this.headerUnderlay=new h,this.dropdownElements=document.querySelectorAll(".vm-header-dropdown"),this.dropdownMap=Array.from(this.dropdownElements).reduce((function(t,n){var o,i=new g({dropdownElement:n,onDropdownButtonMouseOver:e.onDropdownButtonMouseOver,onDropdownButtonClick:e.onDropdownButtonClick}).initialize();return l(l({},t),((o={})[i.id]=i,o))}),{}),this.dropdownIds=Object.keys(this.dropdownMap),document.body.addEventListener("click",this.onBodyClick),this},e.prototype.unload=function(){var e=this;this.headerContentWrapperElement.removeEventListener("mouseout",this.onHeaderMouseOut),this.dropdownIds.forEach((function(t){e.dropdownMap[t].unload()})),document.documentElement.removeEventListener("mouseleave",this.closeCurrentOpenDropdown)},e.prototype.reset=function(){this.unload(),this.initialize()},e}(),E=["header","mega-menu-1","mega-menu-2","mega-menu-3","mega-menu-4","mega-menu-5","mega-menu-6"],w=".header-wrapper",C=function(){function e(){this.headerWrapperElement=null}return e.prototype.initialize=function(){var e=this;this.headerWrapperElement=document.querySelector(w),document.addEventListener("shopify:section:load",(function(t){E.includes(t.detail.sectionId)&&e.reset()})),this.promoBanner=(new c).initialize(),this.drawerManager=(new p).initialize(),this.dropdownManager=(new y).initialize()},e.prototype.unload=function(){this.dropdownManager.reset()},e.prototype.reset=function(){this.unload(),this.initialize()},e}(),_=function(){this.initialize=function(){$("#cart_form .tos_agree")&&$("body").on("click","#cart_form input[type='submit']",(function(){if(!$(this).parents("form").find(".tos_agree").is(":checked")){var e='<p class="warning animated bounceIn">'+Shopify.translation.agree_to_terms_warning+"</p>";return 0==$("p.warning").length&&$(this).before(e)}$(this).submit()}))}},L="is-open",I=function(e){var t=this,n=e.contentElement;this.isOpen=!1,this.onOpen=function(){},this.onClose=function(){},this.initialize=function(){t.id=t.contentElement.getAttribute("data-accordion-id"),t.buttonElements=Array.from(document.querySelectorAll("[data-accordion-button-id=".concat(t.id,"]"))),t.buttonElements.forEach((function(e){e.addEventListener("click",t.onButtonClick)}));var e=t.contentElement.getAttribute("data-accordion-is-open");return t.toggle("true"===e),t},this.onButtonClick=function(){t.toggle(!t.isOpen)},this.getGroupId=function(){var e=t.contentElement.getAttribute("data-accordion-group-id");return e||(e="default",t.contentElement.setAttribute("data-accordion-group-id","default")),e},this.open=function(){t.isOpen=!0,t.contentElement.classList.add(L),t.buttonElements.forEach((function(e){e.classList.add(L)})),t.onOpen(t),t.contentElement.style.height="auto";var e=t.contentElement.clientHeight+"px";t.contentElement.style.height="0",setTimeout((function(){t.contentElement.style.height=e}),0)},this.close=function(){t.isOpen=!1,t.buttonElements.forEach((function(e){e.classList.remove(L)})),t.onClose(t),t.contentElement.style.height="0",t.contentElement.addEventListener("transitionend",(function(){t.isOpen||t.contentElement.classList.remove(L)}),{once:!0})},this.toggle=function(e){e?t.open():t.close()},this.contentElement=n},S=function(){function e(e,t){var n=this;void 0===t&&(t={}),this.options={singleAccordionOpenOnly:!1},this.accordionMap={},this.onAccordionOpen=function(e){n.options.singleAccordionOpenOnly&&n.closeAllAccordionsExcept(e.id)},this.id=e,this.options=l(l({},this.options),t)}return e.prototype.initialize=function(){var e=document.querySelector('[data-accordion-group-wrapper="'.concat(this.id,'"]'));if(e){var t=e.getAttribute("data-accordion-group-option-single-open-only");this.options.singleAccordionOpenOnly="true"===t}return this},e.prototype.addAccordion=function(e){this.accordionMap[e.id]=e,e.onOpen=this.onAccordionOpen},e.prototype.closeAllAccordionsExcept=function(e){var t=this;Object.keys(this.accordionMap).forEach((function(n){n!==e&&t.accordionMap[n].close()}))},e}(),b=function(){var e=this;this.accordionGroupMap={default:new S("default",{singleAccordionOpenOnly:!1})},this.initialize=function(){return e.accordionElements=Array.from(document.querySelectorAll(".vm-accordion-content")),e.accordionGroupMap={},e.accordionElements.forEach((function(t){var n=t.getAttribute("data-accordion-group-id");n||(n="default",t.setAttribute("data-accordion-group-id","default"));var o=new I({contentElement:t}).initialize(),i=e.accordionGroupMap[n];i||(i=new S(n).initialize(),e.accordionGroupMap[n]=i),i.addAccordion(o)})),e}},O=".product-card",D=".product-card__media",M=".product-card__media__primary",T=".product-card__media__secondary",A="is-hovered",k=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>e.HAVE_CURRENT_DATA},x=function(e){var t=this;this.initialize=function(){var e;return t.mediaWrapperElement=t.element.querySelector(D),t.primaryMedia=t.mediaWrapperElement.querySelector(M),t.secondaryMedia=t.mediaWrapperElement.querySelector(T),"VIDEO"===(null===(e=t.secondaryMedia)||void 0===e?void 0:e.tagName)&&k(t.secondaryMedia)&&t.secondaryMedia.pause(),t.secondaryMedia&&(t.element.addEventListener("mouseover",t.onLinkMouseOver),t.element.addEventListener("mouseout",t.onLinkMouseOut)),t},this.unload=function(){t.secondaryMedia&&(t.element.removeEventListener("mouseover",t.onLinkMouseOver),t.element.removeEventListener("mouseout",t.onLinkMouseOut))},this.onLinkMouseOver=function(){t.element.classList.add(A),"VIDEO"!==t.secondaryMedia.tagName||k(t.secondaryMedia)||t.secondaryMedia.play()},this.onLinkMouseOut=function(){t.element.classList.remove(A),"VIDEO"===t.secondaryMedia.tagName&&(t.secondaryMedia.currentTime=0,t.secondaryMedia.pause())},this.element=e},z=function(){var e=this;this.initialize=function(){e.setProductCards(),window.addEventListener("product-recommendations-loaded",e.reset),window.addEventListener("collection-filters-updated",e.reset)},this.unload=function(){e.productCards.forEach((function(e){e.unload()})),window.removeEventListener("product-recommendations-loaded",e.reset),window.removeEventListener("collection-filters-updated",e.reset)},this.setProductCards=function(){e.productCards=Array.from(document.querySelectorAll(O)).map((function(e){return new x(e).initialize()}))},this.reset=function(){e.productCards.forEach((function(e){e.unload()})),e.setProductCards()}},B="data-product-images-modal-toggle-index",q="[data-product-images-modal-toggle]",P=("[".concat(B,"]"),".product-images-modal-wrapper"),R=".product-images-modal",U=".product-images-modal__content",V=".product-images-modal__thumbnail-list",W=".product-images-modal__thumbnail",N=".product-images-modal__image-cell",j=".product-images-modal__image-cell-list",F=function(){function t(){var e=this;this.modalToggleElements=[],this.state={modalIsOpen:!1,isAnimating:!1,selectedModalImageIndex:0},this.unload=function(){e.modalContentElement.removeEventListener("click",e.onModalContentClick),e.modalToggleElements.forEach((function(t){t.removeEventListener("click",e.onModalToggleElementClick)})),e.modalImageCellListWrapperElement.removeEventListener("wheel",e.onModalImagesWheel),document.removeEventListener("keydown",e.onKeyPressed),document.removeEventListener("resize",e.onWindowResize),window.removeEventListener("resize",e.debouncedSetModalImageScrollTopIndicies)},this.onModalThumbnailClick=function(t){var n=t.target.closest(W).getAttribute("data-index"),o=parseInt(n,10);e.setSelectedModalImage(o)},this.onModalToggleElementClick=function(t){var n=t.target.closest(q);if(e.state.modalIsOpen)e.closeModal();else{var o=n.getAttribute(B),i=o?parseInt(o):0;e.openModal(i)}},this.onModalContentClick=function(t){t.stopPropagation();var n=t.target;n.closest(V)||n.closest(j)||e.closeModal()},this.onKeyPressed=function(t){"Escape"===t.key&&e.state.modalIsOpen&&e.closeModal()},this.onWindowResize=function(){e.setModalImageScrollTopIndicies()},this.onModalImagesWheel=function(){for(var t=e.modalImageCellListWrapperElement.scrollTop,n=0,o=e.modalImageScrollTopIndicies.length-1;o>=0;o--){if(t>e.modalImageScrollTopIndicies[o]){n=o;break}}n!=e.state.selectedModalImageIndex&&e.setSelectedModalImage(n,{scroll:!1})},this.setModalImageScrollTopIndicies=function(){e.modalImageScrollTopIndicies=e.modalImageCellElementList.map((function(e,t){return e.offsetTop}))},this.setSelectedModalImage=function(t,n){var o=(void 0===n?{}:n).scroll,i=void 0===o||o;e.modalThumbnailElementList[e.state.selectedModalImageIndex].classList.remove("is-active"),e.state.selectedModalImageIndex=t,e.modalThumbnailElementList[e.state.selectedModalImageIndex].classList.add("is-active"),i&&e.scrollToSelectedModalImage()},this.scrollToSelectedModalImage=function(){var t=e.modalImageScrollTopIndicies[e.state.selectedModalImageIndex];e.modalImageCellListWrapperElement.scrollTo({top:t,behavior:"smooth"})},this.openModal=function(t){e.state.isAnimating||(d.lock("modal"),e.modalWrapperElement.classList.add("is-active"),e.modalElement.classList.add("animated","animated--snappy","fadeIn"),e.state.isAnimating=!0,e.setSelectedModalImage(t),e.modalElement.addEventListener("animationend",(function(){e.state.modalIsOpen=!0,e.state.isAnimating=!1,e.modalElement.classList.remove("animated","animated--snappy","fadeIn"),e.setModalImageScrollTopIndicies(),e.scrollToSelectedModalImage()}),{once:!0}))},this.closeModal=function(){e.state.isAnimating||(d.unlock("modal"),e.modalElement.classList.add("animated","animated--snappy","fadeOut"),e.state.isAnimating=!0,e.modalElement.addEventListener("animationend",(function(){e.state.isAnimating=!1,e.state.modalIsOpen=!1,e.modalWrapperElement.classList.remove("is-active"),e.modalElement.classList.remove("animated","animated--snappy","fadeOut")}),{once:!0}))}}return t.prototype.initialize=function(){var t=this;return this.modalToggleElements=Array.from(document.querySelectorAll(q)),this.modalToggleElements.forEach((function(e){e.addEventListener("click",t.onModalToggleElementClick)})),this.modalWrapperElement=document.querySelector(P),this.modalElement=document.querySelector(R),this.modalContentElement=document.querySelector(U),this.modalThumbnailElementList=Array.from(document.querySelectorAll(W)),this.modalImageCellListWrapperElement=document.querySelector(j),this.modalImageCellElementList=Array.from(document.querySelectorAll(N)),this.setModalImageScrollTopIndicies(),this.modalContentElement.addEventListener("click",this.onModalContentClick),this.modalThumbnailElementList.forEach((function(e){e.addEventListener("click",t.onModalThumbnailClick)})),this.modalImageCellListWrapperElement.addEventListener("wheel",this.onModalImagesWheel),document.addEventListener("keydown",this.onKeyPressed),document.addEventListener("resize",this.onWindowResize),this.debouncedSetModalImageScrollTopIndicies=e(this.setModalImageScrollTopIndicies,100),window.addEventListener("resize",this.debouncedSetModalImageScrollTopIndicies),this},t.isOnProductPage=function(){return!!document.querySelector(".product-template")},t}(),H=".product-images-mobile__images-container",G=".product-images-mobile__images-container__inner",K=".product-images-mobile__image",X=".product-images-mobile__dots__dot",Y=function(){function e(){var e=this;this.elements={imagesContainer:null,imagesContainerInner:null,images:[],dots:[]},this.state={currentImageIndex:0,isSwiping:!1,touchStartCoordinates:null,currentTouchCoordinates:null,currentSample:[]},this.unload=function(){e.elements.imagesContainer.removeEventListener("touchstart",e.onContainerTouchStart),e.elements.imagesContainer.removeEventListener("touchend",e.onContainerTouchEnd),e.elements.imagesContainer.removeEventListener("touchmove",e.onContainerTouchMove),window.removeEventListener("resize",e.setImageContainerDimensions),e.elements.dots.forEach((function(t){t.removeEventListener("click",e.onDotClick)}))},this.setImageContainerDimensions=function(){e.imageContainerDimensions={width:e.elements.imagesContainer.getBoundingClientRect().width,offsetTop:e.elements.imagesContainer.getBoundingClientRect().top}},this.onContainerTouchStart=function(t){var n=t.touches[0];e.state.touchStartCoordinates={x:n.clientX,y:n.clientY},e.state.currentTouchCoordinates=l({},e.state.touchStartCoordinates)},this.onContainerTouchMove=function(t){var n=t.touches[0],o={x:n.clientX,y:n.clientY};e.state.currentTouchCoordinates=l({},o);var i=e.getCurrentAverageTouchMovement();if(i.x>20||i.y>20){if(i.x>20){e.elements.imagesContainerInner.classList.add("is-active");var r=e.getCurrentTouchCoordinatesDiff(),a=.95*e.imageContainerDimensions.width,s=Math.max(Math.min(r.x,a),-a);e.setImageContainerInnerOffset(s)}}else e.state.currentSample.push(l({},o))},this.onContainerTouchEnd=function(t){var n=e.getCurrentAverageTouchMovement();if(n.x>20||n.y>20){e.elements.imagesContainerInner.classList.remove("is-active"),e.setImageContainerInnerOffset();var o=e.getCurrentTouchCoordinatesDiff();if(Math.abs(o.x)>=40){var i=e.state.currentImageIndex+(o.x>0?-1:1);i>=0&&i<=e.elements.images.length-1&&e.switchToImage(i)}}e.state.touchStartCoordinates=null,e.state.currentTouchCoordinates=null,e.state.currentSample=[]},this.onDotClick=function(t){var n=t.target.getAttribute("data-image-index"),o=parseInt(n,10);e.switchToImage(o)},this.getCurrentTouchCoordinatesDiff=function(){var t,n,o=e.state,i=o.currentTouchCoordinates,r=o.touchStartCoordinates;return t=i,n=r,{x:Math.floor(t.x-n.x),y:Math.floor(t.y-n.y)}},this.getCurrentAverageTouchMovement=function(){if(!e.state.currentSample.length)return{x:0,y:0};var t=e.state.currentSample,n=t[0],o=t.slice(1),i=o.reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0}),r=i.x/o.length,a=i.y/o.length;return{x:Math.abs(r-n.x),y:Math.abs(a-n.y)}},this.switchToImage=function(t){t!==e.state.currentImageIndex&&(e.toggleDotActiveState(e.state.currentImageIndex,!1),e.state.currentImageIndex=t,e.setImageContainerInnerOffset(),e.toggleDotActiveState(e.state.currentImageIndex,!0))},this.getCurrentImageIndexPixelOffset=function(){return e.imageContainerDimensions.width*e.state.currentImageIndex},this.setImageContainerInnerOffset=function(t){void 0===t&&(t=0);var n=e.getCurrentImageIndexPixelOffset();e.elements.imagesContainerInner.style.transform="translateX(".concat(-n+t,"px)")},this.toggleDotActiveState=function(t,n){e.elements.dots[t].classList.toggle("is-active",n)}}return e.prototype.initialize=function(){var e=this;return this.elements.imagesContainer=document.querySelector(H),this.elements.imagesContainer.addEventListener("touchstart",this.onContainerTouchStart),this.elements.imagesContainer.addEventListener("touchend",this.onContainerTouchEnd),this.elements.imagesContainer.addEventListener("touchmove",this.onContainerTouchMove),this.setImageContainerDimensions(),window.addEventListener("resize",this.setImageContainerDimensions),this.elements.imagesContainerInner=document.querySelector(G),this.elements.images=Array.from(document.querySelectorAll(K)),this.elements.dots=Array.from(document.querySelectorAll(X)),this.elements.dots.forEach((function(t){t.addEventListener("click",e.onDotClick)})),this},e}(),J="data-option-index",Q="data-product",Z={ID_INPUT_ELEMENT:'select[name="id"], input[name="id"]',PRODUCT_OPTION:"[".concat("data-option","]"),ADD_TO_CART_BUTTON:".button.add_to_cart",CURRENT_PRICE:".current_price",WAS_PRICE:".current_price",SALE_SAVINGS:".current_price"},ee=function(){function e(){var e=this;this.initialize=function(){return e.productData=e.getProductData(),e.moneyFormat=document.body.getAttribute("data-money-format"),e.elements={idInputElement:document.querySelector(Z.ID_INPUT_ELEMENT),productOptions:Array.from(document.querySelectorAll("[data-option]")),addToCartButton:document.querySelector(Z.ADD_TO_CART_BUTTON),currentPrice:document.querySelector(Z.CURRENT_PRICE),wasPrice:document.querySelector(Z.WAS_PRICE),saleSavings:document.querySelector(Z.SALE_SAVINGS)},e.currentSelectedOptions=e.elements.productOptions.map((function(e){return e.querySelector("input").value})),e.setCurrentSelectedVariant(),e.elements.productOptions.forEach((function(t){t.addEventListener("change",e.onProductOptionChange)})),e},this.unload=function(){e.elements.productOptions.forEach((function(t){t.removeEventListener("change",e.onProductOptionChange)}))},this.getProductData=function(){var e=document.querySelector("[data-product]").getAttribute("data-product");return JSON.parse(e)},this.onProductOptionChange=function(t){var n,o=t.target,i=o.value,r=o.closest(Z.PRODUCT_OPTION).getAttribute(J),a=parseInt(r,10);e.currentSelectedOptions[a]=i,e.setCurrentSelectedVariant(),e.elements.idInputElement.value=e.currentSelectedVariant.id,console.log("setting value to: ",e.elements.idInputElement.value),!0===(null===(n=e.currentSelectedVariant)||void 0===n?void 0:n.available)?(e.elements.addToCartButton.removeAttribute("disabled"),e.elements.addToCartButton.innerText=Shopify.translation.add_to_cart):(e.elements.addToCartButton.setAttribute("disabled","disabled"),e.elements.addToCartButton.innerText=Shopify.translation.unavailable_text),e.elements.currentPrice.innerHTML=Shopify.formatMoney(e.currentSelectedVariant.price,e.moneyFormat),e.elements.productOptions.forEach((function(t,n){t.querySelectorAll("input").forEach((function(t){var o=t.value,i=function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}([],e.currentSelectedOptions,!0).map((function(e,t){return t===n?o:e})),r=e.findVariantByOption(i);(null==r?void 0:r.available)?(t.disabled=!1,t.closest(".vm-select-button").classList.remove("vm-select-button--soldout")):(t.disabled=!0,t.closest(".vm-select-button").classList.add("vm-select-button--soldout"))}))}))},this.findVariantByOption=function(t){return e.productData.variants.find((function(e){for(var n=0,o=t;n<o.length;n++){var i=o[n];if(!e.options.includes(i))return!1}return!0}))},this.setCurrentSelectedVariant=function(){e.currentSelectedVariant=e.findVariantByOption(e.currentSelectedOptions)}}return e.shouldInitialize=function(){return null!=document.querySelector("[".concat(Q,"]"))},e}();var te=function(){function e(){return this}return e.prototype.initialize=function(){this.setStickyContentTop(),this.productImagesDesktop=(new F).initialize(),this.productImagesMobile=(new Y).initialize(),ee.shouldInitialize()&&(this.productForm=(new ee).initialize()),function(){var e=$(".meta-related-recommended-collection"),t=$(".product-recommendations"),n=t.data("productId"),o=t.data("limit"),i=t.data("enabled"),r=e.data("enabled"),a=$("[data-product-recommendations-container]");if($(".js-recommended-products-slider"),e.length){if(!r)return void a.empty();a.html(e.html()),$("[data-product-recommendations-container] .js-product_section .product_form_options").each((function(){0===$(this).find("select").length&&new Shopify.OptionSelectors($(this).data("select-id"),{product:$(this).data("product"),onVariantSelected:selectCallback,enableHistoryState:$(this).data("enable-state")})})),Shopify.PaymentButton&&Shopify.PaymentButton.init(),$(".recommended-products-section").empty()}else if(t.length){if(!i)return void a.empty();$.ajax({type:"GET",url:"/recommendations/products?section_id=product-recommendations&limit="+o+"&product_id="+n,success:function(e){var t=$(e).find(".product-recommendations").html();a.empty(),a.html(t),$("[data-product-recommendations-container] .js-product_section .product_form_options").each((function(){new Shopify.OptionSelectors($(this).data("select-id"),{product:$(this).data("product"),onVariantSelected:selectCallback,enableHistoryState:$(this).data("enable-state")})})),Currency.show_multiple_currencies&&currencyConverter.convertCurrencies(),Shopify.PaymentButton&&Shopify.PaymentButton.init(),0===$("[data-recommended-product-count]").data()?$("[data-product-recommendations-container]").hide():window.dispatchEvent(new Event("product-recommendations-loaded"))}})}else a.hide()}()},e.prototype.setStickyContentTop=function(){this.stickyContentElement=document.querySelector(".product-content-wrapper");var e=document.querySelector(".header").getBoundingClientRect().height+16;this.stickyContentElement.style.top="".concat(e,"px")},e.prototype.unload=function(){},e.isOnProductPage=function(){return!!document.querySelector(".product-template")},e}(),ne="[data-smooth-lazy-loading]",oe="is-loading",ie=function(e){var t=this;this.hasCompletelyLoaded=!1,this.initialize=function(){if(t.elementsToLoad=Array.from(t.element.querySelectorAll("img, video")),0!==t.elementsToLoad.length)return t.hasLoaded=new Array(t.elementsToLoad).map((function(){return!1})),t.element.classList.add(oe),t.elementsToLoad.forEach((function(e,n){var o=function(){t.onLoad(n)};if("IMG"===e.tagName)e.complete?o():e.addEventListener("load",o,{once:!0});else if("VIDEO"===e.tagName){var i=new Image;i.loading="lazy",i.src=e.getAttribute("poster"),i.complete?o():i.addEventListener("load",o,{once:!0})}})),t},this.unload=function(){},this.onLoad=function(e){t.hasLoaded[e]=!0,t.hasCompletelyLoaded=0===t.hasLoaded.filter((function(e){return!e})).length,t.hasCompletelyLoaded&&t.element.classList.remove(oe)},this.element=e},re=function(){var e=this;this.initialize=function(){e.setLazyLoadedImages(),window.addEventListener("product-recommendations-loaded",e.reset),window.addEventListener("collection-filters-updated",e.reset)},this.unload=function(){window.removeEventListener("product-recommendations-loaded",e.reset),window.removeEventListener("collection-filters-updated",e.reset)},this.setLazyLoadedImages=function(){e.lazyLoadedImages=Array.from(document.querySelectorAll(ne)).map((function(e){return new ie(e).initialize()}))},this.reset=function(){e.lazyLoadedImages.forEach((function(e){e.unload()})),e.setLazyLoadedImages()}};(new C).initialize(),(new _).initialize(),(new s).initialize(),(new b).initialize(),(new z).initialize(),(new re).initialize(),$("body").on("click",".js-change-quantity",(function(){var e=$(this),t=$(this).siblings("input"),n=parseInt(t.val()),o=1e29,i=t.attr("min")||0;return null!=t.attr("max")&&(o=t.attr("max")),isNaN(n)||n<i?(t.val(i),!1):o<n?(t.val(o),!1):("plus"==e.data("func")?n<o&&t.val(n+1):(i<n&&t.val(n-1),e.parents(".cart_item").length&&n-1==0&&e.closest(".cart_item").addClass("animated fadeOutUp")),void t.trigger("change"))})),te.isOnProductPage()&&(new te).initialize()}();
